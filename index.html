import React, { useState, useEffect } from 'react';
import { ChevronLeft, ChevronRight, ChevronDown } from 'lucide-react';

export default function AbsFestHomepage() {
  const [mainArtistIndex, setMainArtistIndex] = useState(0);
  const [carouselStart, setCarouselStart] = useState(0);
  const [expandedFaq, setExpandedFaq] = useState(null);

  // Muted carnival poster colors
  const colors = {
    darkBg: '#3d3d3d',
    cream: '#e8dcc8',
    dustyPurple: '#6b5b7e',
    mutedGreen: '#5a6b4f',
    gold: '#8b7355',
    darkGray: '#2a2a2a',
    mauve: '#9d7f8a',
    sage: '#7a8968',
  };

  // Sample artist data
  const artists = [
    { name: 'The Mystic Medusa', role: 'Featured Performer', image: 'üêç' },
    { name: 'Velvet Serpent', role: 'Aerial Act', image: 'üåô' },
    { name: 'Crystal Visions', role: 'Fortune Teller', image: '‚ú®' },
    { name: 'Shadow Dancer', role: 'Performer', image: 'üé≠' },
    { name: 'Luna Eclipse', role: 'Fire Performer', image: 'üî•' },
    { name: 'Starlight Weaver', role: 'Acrobat', image: '‚≠ê' },
    { name: 'Phantom Pulse', role: 'DJ', image: 'üéµ' },
    { name: 'Midnight Mirage', role: 'Performer', image: 'üåë' },
    { name: 'Aurora Blaze', role: 'Dancer', image: 'üíú' },
    { name: 'Neon Prophet', role: 'Performer', image: 'üîÆ' },
    { name: 'Echo Chamber', role: 'Sound Artist', image: 'üé§' },
    { name: 'Prism Collective', role: 'Group Performance', image: 'üé®' },
    { name: 'Void Keeper', role: 'Visual Artist', image: 'üåå' },
    { name: 'Silk Route', role: 'Flow Artist', image: 'üå∏' },
    { name: 'Cosmic Pulse', role: 'Performer', image: 'üå†' },
  ];

  const sponsors = [
    { name: 'Neon Nights Production', logo: 'üé™' },
    { name: 'Purple Vibe Entertainment', logo: 'üé≠' },
  ];

  const faqItems = [
    {
      question: 'When and where is AbsFest 2025?',
      answer: 'AbsFest 2025 takes place [DATE] at [LOCATION]. Check back soon for ticket information and full details.',
    },
    {
      question: 'How do I purchase tickets?',
      answer: 'Tickets will be available through [TICKETING PLATFORM]. Early bird pricing may be available for limited time.',
    },
    {
      question: 'Can I bring friends?',
      answer: 'Absolutely! AbsFest is a community event. Group rates may be available.',
    },
    {
      question: 'Is AbsFest family-friendly?',
      answer: 'AbsFest features performances suitable for adult audiences. Age restrictions will be noted for specific acts.',
    },
    {
      question: 'Where can I find artist lineups?',
      answer: 'Full artist lineups and performance times will be announced as we get closer to the event date.',
    },
  ];

  // Auto-cycle
  useEffect(() => {
    const mainTimer = setInterval(() => {
      setMainArtistIndex((prev) => (prev + 1) % artists.length);
    }, 5000);
    return () => clearInterval(mainTimer);
  }, [artists.length]);

  useEffect(() => {
    const carouselTimer = setInterval(() => {
      setCarouselStart((prev) => (prev + 1) % artists.length);
    }, 4000);
    return () => clearInterval(carouselTimer);
  }, [artists.length]);

  const visibleArtists = [
    artists[(carouselStart) % artists.length],
    artists[(carouselStart + 1) % artists.length],
    artists[(carouselStart + 2) % artists.length],
    artists[(carouselStart + 3) % artists.length],
  ];

  const OrnamentalDivider = () => (
    <div style={{
      textAlign: 'center',
      padding: '20px 0',
      fontSize: '24px',
      color: colors.gold,
      letterSpacing: '8px',
    }}>
      ‚ú¶ ‚ú¶ ‚ú¶
    </div>
  );

  return (
    <div style={{
      backgroundColor: colors.darkBg,
      color: colors.cream,
      minHeight: '100vh',
      fontFamily: '"Georgia", "Trebuchet MS", serif',
      backgroundImage: 'radial-gradient(circle at 20% 50%, rgba(107, 91, 126, 0.1) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(90, 107, 79, 0.1) 0%, transparent 50%)',
    }}>
      {/* Header */}
      <header style={{
        backgroundColor: colors.darkGray,
        padding: '15px 40px',
        display: 'flex',
        justifyContent: 'space-between',
        alignItems: 'center',
        borderBottom: `3px dashed ${colors.gold}`,
        borderTop: `3px dashed ${colors.gold}`,
      }}>
        <div style={{
          fontSize: '20px',
          fontWeight: 'bold',
          color: colors.cream,
          letterSpacing: '2px',
          fontStyle: 'italic',
        }}>
          üé™ ABSFEST üé™
        </div>
        <nav style={{
          display: 'flex',
          gap: '25px',
          fontSize: '13px',
          color: colors.cream,
          fontWeight: 'bold',
          letterSpacing: '1px',
        }}>
          <a href="#artists" style={{ textDecoration: 'none', color: colors.cream, cursor: 'pointer', borderBottom: `2px solid ${colors.gold}`, paddingBottom: '2px' }}>ARTISTS</a>
          <a href="#sponsors" style={{ textDecoration: 'none', color: colors.cream, cursor: 'pointer', borderBottom: `2px solid ${colors.gold}`, paddingBottom: '2px' }}>SPONSORS</a>
          <a href="#about" style={{ textDecoration: 'none', color: colors.cream, cursor: 'pointer', borderBottom: `2px solid ${colors.gold}`, paddingBottom: '2px' }}>ABOUT</a>
          <a href="#faq" style={{ textDecoration: 'none', color: colors.cream, cursor: 'pointer', borderBottom: `2px solid ${colors.gold}`, paddingBottom: '2px' }}>FAQ</a>
        </nav>
      </header>

      {/* Hero Logo & Date Section */}
      <section style={{
        padding: '100px 40px',
        textAlign: 'center',
        backgroundColor: colors.darkGray,
        borderBottom: `5px solid ${colors.gold}`,
        position: 'relative',
        background: `linear-gradient(135deg, ${colors.darkGray} 0%, rgba(139, 115, 85, 0.1) 100%)`,
      }}>
        {/* Decorative corner elements */}
        <div style={{
          position: 'absolute',
          top: '20px',
          left: '40px',
          fontSize: '30px',
          color: colors.gold,
          opacity: 0.6,
        }}>‚ú¶</div>
        <div style={{
          position: 'absolute',
          top: '20px',
          right: '40px',
          fontSize: '30px',
          color: colors.gold,
          opacity: 0.6,
        }}>‚ú¶</div>

        <div style={{
          fontSize: '140px',
          marginBottom: '20px',
          filter: 'drop-shadow(0 8px 20px rgba(139, 115, 85, 0.6))',
          transform: 'skewY(-2deg)',
        }}>
          üêç
        </div>

        <h1 style={{
          fontSize: '92px',
          fontWeight: 'bold',
          color: colors.cream,
          marginBottom: '10px',
          textShadow: `4px 4px 0px ${colors.dustyPurple}, 8px 8px 0px rgba(0,0,0,0.5)`,
          letterSpacing: '6px',
          fontStyle: 'italic',
          transform: 'scaleY(1.1)',
        }}>
          ABSFEST
        </h1>

        <div style={{
          fontSize: '64px',
          color: colors.mauve,
          fontWeight: 'bold',
          textShadow: `3px 3px 0px ${colors.gold}`,
          letterSpacing: '3px',
          marginBottom: '20px',
        }}>
          2025
        </div>

        <OrnamentalDivider />

        <p style={{
          fontSize: '18px',
          color: colors.gold,
          marginTop: '15px',
          fontStyle: 'italic',
          letterSpacing: '2px',
        }}>
          ~ A Celebration of the Extraordinary ~
        </p>

        <div style={{
          position: 'absolute',
          bottom: '20px',
          left: '40px',
          fontSize: '30px',
          color: colors.gold,
          opacity: 0.6,
        }}>‚ú¶</div>
        <div style={{
          position: 'absolute',
          bottom: '20px',
          right: '40px',
          fontSize: '30px',
          color: colors.gold,
          opacity: 0.6,
        }}>‚ú¶</div>
      </section>

      {/* Featured Artist Section */}
      <section id="artists" style={{
        padding: '80px 40px',
        textAlign: 'center',
        backgroundColor: colors.darkBg,
        borderBottom: `4px dashed ${colors.gold}`,
      }}>
        <h2 style={{
          fontSize: '52px',
          marginBottom: '15px',
          color: colors.mauve,
          textShadow: `2px 2px 0px ${colors.gold}`,
          letterSpacing: '3px',
          fontStyle: 'italic',
        }}>
          FEATURED PERFORMERS
        </h2>

        <OrnamentalDivider />

        {/* Main Featured Card */}
        <div style={{
          backgroundColor: colors.darkGray,
          border: `6px solid ${colors.gold}`,
          borderRadius: '0px',
          padding: '60px 50px',
          marginBottom: '50px',
          maxWidth: '600px',
          margin: '30px auto 50px',
          boxShadow: `8px 8px 0px rgba(0,0,0,0.5), -2px -2px 0px ${colors.dustyPurple}`,
          position: 'relative',
          transform: 'skewX(-1deg)',
        }}>
          <div style={{
            position: 'absolute',
            top: '15px',
            left: '20px',
            fontSize: '20px',
            color: colors.gold,
          }}>‚ú¶</div>
          <div style={{
            position: 'absolute',
            top: '15px',
            right: '20px',
            fontSize: '20px',
            color: colors.gold,
          }}>‚ú¶</div>

          <div style={{ fontSize: '90px', marginBottom: '20px' }}>
            {artists[mainArtistIndex].image}
          </div>
          <h3 style={{
            fontSize: '36px',
            marginBottom: '8px',
            color: colors.cream,
            fontWeight: 'bold',
            letterSpacing: '2px',
            textShadow: `1px 1px 0px ${colors.dustyPurple}`,
          }}>
            {artists[mainArtistIndex].name}
          </h3>
          <p style={{
            fontSize: '16px',
            color: colors.gold,
            fontWeight: 'bold',
            letterSpacing: '1px',
          }}>
            {artists[mainArtistIndex].role}
          </p>

          <div style={{
            position: 'absolute',
            bottom: '15px',
            left: '20px',
            fontSize: '20px',
            color: colors.gold,
          }}>‚ú¶</div>
          <div style={{
            position: 'absolute',
            bottom: '15px',
            right: '20px',
            fontSize: '20px',
            color: colors.gold,
          }}>‚ú¶</div>
        </div>

        {/* Mini Carousel */}
        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: '20px', flexWrap: 'wrap' }}>
          <button
            onClick={() => setCarouselStart((prev) => (prev - 1 + artists.length) % artists.length)}
            style={{
              background: colors.dustyPurple,
              border: `3px solid ${colors.gold}`,
              color: colors.cream,
              padding: '12px 16px',
              cursor: 'pointer',
              fontWeight: 'bold',
              fontSize: '16px',
              fontFamily: 'Georgia, serif',
            }}
          >
            ‚óÑ
          </button>

          <div style={{ display: 'flex', gap: '18px', justifyContent: 'center', flexWrap: 'wrap' }}>
            {visibleArtists.map((artist, idx) => (
              <div
                key={idx}
                onClick={() => setMainArtistIndex(artists.indexOf(artist))}
                style={{
                  backgroundColor: colors.mutedGreen,
                  border: `4px solid ${colors.gold}`,
                  padding: '28px',
                  minWidth: '130px',
                  cursor: 'pointer',
                  transition: 'all 0.2s ease',
                  boxShadow: `4px 4px 0px rgba(0,0,0,0.4)`,
                  transform: 'skewX(-2deg)',
                  position: 'relative',
                }}
                onMouseOver={(e) => e.currentTarget.style.transform = 'skewX(-2deg) scale(1.08)'}
                onMouseOut={(e) => e.currentTarget.style.transform = 'skewX(-2deg) scale(1)'}
              >
                <div style={{ fontSize: '48px', marginBottom: '8px' }}>{artist.image}</div>
                <p style={{ fontSize: '11px', fontWeight: 'bold', color: colors.cream, margin: '4px 0', letterSpacing: '0.5px' }}>
                  {artist.name.split(' ')[0]}
                </p>
                <p style={{ fontSize: '9px', color: colors.gold }}>
                  {artist.role}
                </p>
              </div>
            ))}
          </div>

          <button
            onClick={() => setCarouselStart((prev) => (prev + 1) % artists.length)}
            style={{
              background: colors.dustyPurple,
              border: `3px solid ${colors.gold}`,
              color: colors.cream,
              padding: '12px 16px',
              cursor: 'pointer',
              fontWeight: 'bold',
              fontSize: '16px',
              fontFamily: 'Georgia, serif',
            }}
          >
            ‚ñ∫
          </button>
        </div>
      </section>

      {/* Sponsors Section */}
      <section id="sponsors" style={{
        padding: '80px 40px',
        textAlign: 'center',
        backgroundColor: colors.darkGray,
        borderBottom: `4px dashed ${colors.gold}`,
      }}>
        <h2 style={{
          fontSize: '48px',
          marginBottom: '15px',
          color: colors.mauve,
          textShadow: `2px 2px 0px ${colors.gold}`,
          letterSpacing: '2px',
        }}>
          PRESENTED BY
        </h2>

        <OrnamentalDivider />

        <div style={{ display: 'flex', justifyContent: 'center', gap: '60px', flexWrap: 'wrap', marginTop: '40px' }}>
          {sponsors.map((sponsor, idx) => (
            <div
              key={idx}
              style={{
                backgroundColor: colors.darkBg,
                border: `5px solid ${colors.gold}`,
                padding: '45px',
                minWidth: '280px',
                boxShadow: `6px 6px 0px rgba(0,0,0,0.4), -3px -3px 0px ${colors.mauve}`,
                position: 'relative',
                transform: idx % 2 === 0 ? 'skewX(-2deg)' : 'skewX(2deg)',
              }}
            >
              <div style={{ fontSize: '70px', marginBottom: '15px' }}>{sponsor.logo}</div>
              <p style={{
                fontSize: '18px',
                fontWeight: 'bold',
                color: colors.cream,
                letterSpacing: '1px',
              }}>
                {sponsor.name}
              </p>
            </div>
          ))}
        </div>
      </section>

      {/* About Section */}
      <section id="about" style={{
        padding: '80px 40px',
        display: 'flex',
        gap: '60px',
        alignItems: 'center',
        backgroundColor: colors.darkBg,
        borderBottom: `4px dashed ${colors.gold}`,
      }}>
        <div style={{
          flex: 1,
          fontSize: '100px',
          textAlign: 'center',
          filter: 'drop-shadow(0 6px 15px rgba(139, 115, 85, 0.5))',
        }}>
          üé™
        </div>
        <div style={{ flex: 1 }}>
          <h2 style={{
            fontSize: '44px',
            marginBottom: '25px',
            color: colors.mauve,
            textShadow: `2px 2px 0px ${colors.gold}`,
            letterSpacing: '2px',
          }}>
            WHAT IS ABSFEST?
          </h2>
          <p style={{
            fontSize: '16px',
            lineHeight: '1.8',
            color: colors.cream,
            fontStyle: 'italic',
          }}>
            AbsFest is a celebration of avant-garde performance, art, and community. Drawing inspiration from vintage carnival traditions and modern expression, we bring together extraordinary performers, visual artists, and creators for an unforgettable experience. Step into our world of wonder, mystery, and artistic revolution.
          </p>
        </div>
      </section>

      {/* FAQ Section */}
      <section id="faq" style={{
        padding: '80px 40px',
        backgroundColor: colors.darkGray,
      }}>
        <h2 style={{
          fontSize: '48px',
          marginBottom: '15px',
          textAlign: 'center',
          color: colors.mauve,
          textShadow: `2px 2px 0px ${colors.gold}`,
          letterSpacing: '2px',
        }}>
          QUESTIONS & CURIOSITIES
        </h2>

        <OrnamentalDivider />

        <div style={{ maxWidth: '750px', margin: '40px auto 0' }}>
          {faqItems.map((item, idx) => (
            <div
              key={idx}
              style={{
                marginBottom: '20px',
                border: `3px solid ${colors.gold}`,
                backgroundColor: colors.darkBg,
                boxShadow: `3px 3px 0px rgba(0,0,0,0.3)`,
                transform: idx % 2 === 0 ? 'skewX(-1deg)' : 'skewX(1deg)',
              }}
            >
              <button
                onClick={() => setExpandedFaq(expandedFaq === idx ? null : idx)}
                style={{
                  width: '100%',
                  padding: '20px',
                  backgroundColor: colors.dustyPurple,
                  border: 'none',
                  color: colors.cream,
                  fontSize: '15px',
                  fontWeight: 'bold',
                  cursor: 'pointer',
                  display: 'flex',
                  justifyContent: 'space-between',
                  alignItems: 'center',
                  fontFamily: 'Georgia, serif',
                  letterSpacing: '1px',
                }}
              >
                {item.question}
                <ChevronDown
                  size={18}
                  style={{
                    transform: expandedFaq === idx ? 'rotate(180deg)' : 'rotate(0deg)',
                    transition: 'transform 0.3s ease',
                  }}
                />
              </button>
              {expandedFaq === idx && (
                <div style={{
                  padding: '20px',
                  backgroundColor: colors.darkBg,
                  borderTop: `2px solid ${colors.gold}`,
                  color: colors.cream,
                  fontSize: '14px',
                  lineHeight: '1.6',
                  fontStyle: 'italic',
                }}>
                  {item.answer}
                </div>
              )}
            </div>
          ))}
        </div>
      </section>

      {/* Footer */}
      <footer style={{
        backgroundColor: colors.darkGray,
        padding: '30px',
        textAlign: 'center',
        color: colors.cream,
        fontWeight: 'bold',
        borderTop: `4px dashed ${colors.gold}`,
        fontSize: '13px',
        letterSpacing: '1px',
      }}>
        <p>¬© 2025 ABSFEST ~ ALL RIGHTS RESERVED ~ EST. 2025</p>
        <p style={{ fontSize: '11px', marginTop: '10px', color: colors.gold }}>‚ú¶ A Celebration of Performance & Art ‚ú¶</p>
      </footer>
    </div>
  );
}